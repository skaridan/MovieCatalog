@model IEnumerable<MovieAllViewModel>

@{
	ViewData["Title"] = "All Movies";
}

<style>
	body {
		background: linear-gradient(135deg, #f5f7fa 0%, #e4e8f0 100%);
		min-height: 100vh;
	}

	.movie-table {
		box-shadow: 0 4px 15px rgba(0,0,0,0.2);
		border-radius: 10px;
		overflow: hidden;
		background: white;
	}

		.movie-table thead {
			background: linear-gradient(45deg, #1a1a2e, #16213e);
			color: #fff;
		}

			.movie-table thead th {
				border: none;
				padding: 15px;
				font-weight: 500;
				text-transform: uppercase;
				letter-spacing: 1px;
			}

		.movie-table tbody tr {
			transition: all 0.3s ease;
		}

			.movie-table tbody tr:hover {
				background: linear-gradient(90deg, #e3f2fd, #bbdefb) !important;
				transform: scale(1.01);
				box-shadow: 0 2px 10px rgba(33, 150, 243, 0.3);
			}

			.movie-table tbody tr:nth-child(even) {
				background-color: #f8f9fa;
			}

			.movie-table tbody tr:nth-child(odd) {
				background-color: #ffffff;
			}

	.movie-image {
		width: 100px;
		height: 120px;
		object-fit: cover;
		border-radius: 8px;
		box-shadow: 0 4px 8px rgba(0,0,0,0.2);
		transition: transform 0.3s ease;
	}

		.movie-image:hover {
			transform: scale(1.1);
			box-shadow: 0 8px 16px rgba(0,0,0,0.3);
		}

	.movie-title {
		color: #1976d2;
		font-weight: 600;
	}

	.genre-badge {
		background: linear-gradient(45deg, #667eea, #764ba2);
		color: white;
		padding: 4px 12px;
		border-radius: 20px;
		font-size: 0.85em;
		display: inline-block;
		box-shadow: 0 2px 5px rgba(102, 126, 234, 0.4);
	}

	.director-name {
		color: #2c3e50;
		font-style: italic;
		font-weight: 500;
	}

	.year-badge {
		background: #ff6b6b;
		color: white;
		padding: 4px 8px;
		border-radius: 5px;
		font-weight: 500;
	}

	.page-title {
		background: linear-gradient(120deg, #667eea, #764ba2);
		-webkit-background-clip: text;
		-webkit-text-fill-color: transparent;
		font-size: 2.5em;
		font-weight: 700;
		margin: 0;
		text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
	}

	.duration-badge {
		background: #00b894;
		color: white;
		padding: 4px 10px;
		border-radius: 15px;
		display: inline-block;
		font-size: 0.9em;
	}

	hr {
		background: linear-gradient(90deg, transparent, #667eea, #764ba2, transparent);
		height: 3px;
		border: none;
		margin: 20px 0;
	}

	.action-buttons {
		display: flex;
		gap: 8px;
		flex-wrap: wrap;
		justify-content: center;
	}

	.btn-action {
		padding: 6px 12px;
		border-radius: 20px;
		display: inline-flex;
		align-items: center;
		gap: 5px;
		transition: all 0.3s ease;
		border: none;
		color: white;
		font-size: 0.85rem;
		text-decoration: none;
		font-weight: 500;
	}

	.btn-details {
		background: #17a2b8;
		box-shadow: 0 4px 10px rgba(23, 162, 184, 0.3);
	}

		.btn-details:hover {
			background: #138496;
			transform: translateY(-3px);
			box-shadow: 0 6px 15px rgba(23, 162, 184, 0.4);
			color: white;
		}

	.btn-edit {
		background: #ffc107;
		box-shadow: 0 4px 10px rgba(255, 193, 7, 0.3);
		color: #212529;
	}

		.btn-edit:hover {
			background: #e0a800;
			transform: translateY(-3px);
			box-shadow: 0 6px 15px rgba(255, 193, 7, 0.4);
			color: #212529;
		}

	.btn-delete {
		background: #dc3545;
		box-shadow: 0 4px 10px rgba(220, 53, 69, 0.3);
	}

		.btn-delete:hover {
			background: #c82333;
			transform: translateY(-3px);
			box-shadow: 0 6px 15px rgba(220, 53, 69, 0.4);
			color: white;
		}

	.btn-add-movie {
		background: #3498db;
		color: white;
		padding: 10px 25px;
		border-radius: 30px;
		font-weight: 500;
		box-shadow: 0 4px 10px rgba(52, 152, 219, 0.3);
		transition: all 0.3s ease;
		text-decoration: none;
		display: inline-flex;
		align-items: center;
		gap: 8px;
		border: none;
		font-size: 1rem;
	}

		.btn-add-movie:hover {
			background: #2980b9;
			transform: translateY(-3px);
			box-shadow: 0 6px 15px rgba(52, 152, 219, 0.4);
			color: white;
		}

	.header-section {
		display: flex;
		justify-content: space-between;
		align-items: center;
		margin-bottom: 30px;
		flex-wrap: wrap;
		gap: 15px;
	}
</style>

<div class="header-section">
	<h2 class="page-title">@ViewData["Title"]</h2>
	<a asp-action="Create" class="btn-add-movie">
		<i class="bi bi-plus-circle"></i> Add New Movie
	</a>
</div>

<hr />

<div class="table-responsive">
	<table class="table movie-table">
		<thead>
			<tr>
				<th>Image</th>
				<th>Title</th>
				<th>Description</th>
				<th>Release Year</th>
				<th>Duration</th>
				<th>Genre</th>
				<th>Director</th>
				<th>Actions</th>
			</tr>
		</thead>
		<tbody>
			@foreach (MovieAllViewModel movie in Model)
			{
				<tr>
					<td>
						<img src="@movie.ImageUrl" alt="@movie.Title" class="movie-image"
							 onerror="this.src='https://via.placeholder.com/100x120?text=No+Image'" />
					</td>
					<td class="movie-title">@movie.Title</td>
					<td>
						<span style="color: #555;">
							@(movie.Description.Length > 100
													? movie.Description.Substring(0, 100) + "..."
													: movie.Description)
					</span>
				</td>
				<td><span class="year-badge">@movie.ReleaseYear.Year</span></td>
				<td><span class="duration-badge">@movie.Duration min</span></td>
				<td><span class="genre-badge">@movie.GenreName</span></td>
				<td class="director-name">@movie.DirectorFirstName @movie.DirectorLastName</td>
				<td>
					<div class="action-buttons">
						<a asp-action="Details" asp-route-id="@movie.Id"
						   class="btn-action btn-details"
						   title="View Details">
							<i class="bi bi-eye"></i> Details
						</a>

							<a asp-action="Edit" asp-route-id="@movie.Id"
							   class="btn-action btn-edit"
							   title="Edit Movie">
								<i class="bi bi-pencil"></i> Edit
							</a>

							<a asp-action="Delete" asp-route-id="@movie.Id"
							   class="btn-action btn-delete"
							   title="Delete Movie"
							   onclick="return confirm('Are you sure you want to delete this movie?');">
								<i class="bi bi-trash"></i> Delete
							</a>
						</div>
					</td>
				</tr>
						}
		</tbody>
	</table>
</div>

<style>
	footer {
		background: linear-gradient(45deg, #1a1a2e, #16213e);
		color: white !important;
		padding: 20px;
		border-radius: 10px 10px 0 0;
		margin-top: 30px;
	}

		footer a {
			color: #667eea !important;
			transition: color 0.3s ease;
		}

			footer a:hover {
				color: #764ba2 !important;
				text-decoration: none;
			}
</style>